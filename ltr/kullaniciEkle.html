<!DOCTYPE html>
<html lang="tr">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="endless admin is super flexible, powerful, clean &amp; modern responsive bootstrap 4 admin template with unlimited possibilities.">
    <meta name="keywords"
        content="admin paneli, gebze admin paneli, dashboard template, flat admin template, responsive admin template, web app">
    <meta name="author" content="pixelstrap">
    <link rel="icon" href="../assets/images/gebze-belediyesi.ico" type="image/x-icon">
    <link rel="shortcut icon" href="../assets/images//gebze-belediyesi.ico" type="image/x-icon">
    <title>Kullanıcı Ekle - Gebze Belediyesi Admin Paneli</title>
    <!-- Google font-->
    <link href="https://fonts.googleapis.com/css?family=Work+Sans:100,200,300,400,500,600,700,800,900" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet">
    <!-- Font Awesome-->
    <link rel="stylesheet" type="text/css" href="../assets/css/fontawesome.css">
    <!-- ico-font-->
    <link rel="stylesheet" type="text/css" href="../assets/css/icofont.css">
    <!-- Themify icon-->
    <link rel="stylesheet" type="text/css" href="../assets/css/themify.css">
    <!-- Flag icon-->
    <link rel="stylesheet" type="text/css" href="../assets/css/flag-icon.css">
    <!-- Feather icon-->
    <link rel="stylesheet" type="text/css" href="../assets/css/feather-icon.css">
    <!-- Plugins css start-->
    <link rel="stylesheet" type="text/css" href="../assets/css/chartist.css">
    <link rel="stylesheet" type="text/css" href="../assets/css/prism.css">
    <!-- Plugins css Ends-->
    <!-- Bootstrap css-->
    <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap.css">
    <!-- App css-->
    <link rel="stylesheet" type="text/css" href="../assets/css/style.css">
    <link id="color" rel="stylesheet" href="../assets/css/light-1.css" media="screen">
    <!-- Responsive css-->
    <link rel="stylesheet" type="text/css" href="../assets/css/responsive.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <link rel="stylesheet" href="Profil/profil.css">

    <style>
        .buton {
            text-align: left;
        }

        #save-button {
            /* background-color: royalblue; */
            background-color: royalblue;
            color: white;
        }

        #save-button:hover {
            background-color: rgb(41, 77, 186);
        }

        .form-select {
            width: 100%;
            height: 50px;
            border-radius: 5px;
            padding: 5px;
            border-width: 1px;
            border-color: rgb(221, 221, 221);
        }
    </style>



</head>

<body>
    <!-- Loader starts-->
    <div class="loader-wrapper">
        <div class="loader bg-white">
            <div class="whirly-loader"> </div>
        </div>
    </div>
    <!-- Loader ends-->
    <!-- page-wrapper Start-->
    <div class="page-wrapper">
        <!-- Page Header Start-->
        <div class="page-main-header">
            <div class="main-header-right row" style="box-shadow: 0 4px 10px rgba(56, 119, 255, 0.948);">
                <div class="main-header-left d-lg-none">
                    <div class="logo-wrapper"><a href="index.html"><img src="../assets/images/GEBZElogo-5.png"
                                class="index-img" alt=""></a></div>
                </div>
                <div class="mobile-sidebar d-block">
                    <div class="media-body text-right switch-sm">
                        <label class="switch"><a href="#"><i id="sidebar-toggle"
                                    data-feather="align-left"></i></a></label>
                    </div>
                </div>
                <div class="nav-right col p-0">
                    <ul class="nav-menus">
                        <li>
                            <form class="form-inline search-form" action="#" method="get">
                                <div class="form-group">
                                    <div class="Typeahead Typeahead--twitterUsers">
                                        <div class="u-posRelative">
                                            <input class="Typeahead-input form-control-plaintext" id="demo-input"
                                                type="text" name="q" placeholder="Arama yap..." />
                                            <div class="spinner-border Typeahead-spinner" role="status">
                                                <span class="sr-only">Yükleniyor...</span>
                                            </div>
                                            <span class="d-sm-none mobile-search"><i data-feather="search"></i></span>
                                        </div>
                                        <div class="Typeahead-menu"></div>
                                    </div>
                                </div>
                            </form>
                        </li>

                        <li class="onhover-dropdown">
                            <div class="media align-items-center"><img
                                    class="align-self-center pull-right img-50 rounded-circle"
                                    src="../assets/images/dashboard/user.png" alt="header-user">

                            </div>
                            <ul class="profile-dropdown onhover-show-div p-20">
                                <li><a href="#"><i data-feather="settings"></i> Ayarlar</a></li>
                                <li><a href="#"><i data-feather="log-out"></i> Çıkış Yap</a></li>
                            </ul>
                        </li>
                    </ul>
                    <div class="d-lg-none mobile-toggle pull-right"><i data-feather="more-horizontal"></i></div>
                </div>
                <script id="result-template" type="text/x-handlebars-template">
            <div class="ProfileCard u-cf">                        
            <div class="ProfileCard-avatar"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-airplay m-0"><path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path><polygon points="12 15 17 21 7 21 12 15"></polygon></svg></div>
            <div class="ProfileCard-details">
            <div class="ProfileCard-realName">{{name}}</div>
            </div>
            </div>
          </script>
                <script id="empty-template" type="text/x-handlebars-template">
            <div class="EmptyMessage">Aradığınız sonuç bulunamadı. Büyük ihtimalle sistem şu an kapalı, üzücü ama kısa sürede çözeceğiz!</div>
            
          </script>
            </div>
        </div>
        <!-- Page Header Ends -->
        <!-- Page Body Start-->
        <div class="page-body-wrapper">
            <!-- Page Sidebar Start-->
            <div class="page-sidebar bg-light">
                <div class="main-header-left d-none d-lg-block"
                    style="box-shadow: 0 4px 10px rgba(56, 119, 255, 0.948);">
                    <div class="logo-wrapper"><a href="index.html"><img src="../assets/images/GEBZElogo-5.png"
                                class="logo-img" alt=""></a></div>
                </div>

                <!-- Buradan itibaren logo hariç tüm yan menü var. -->
                <div class="sidebar custom-scrollbar bg-light"
                    style="box-shadow: 0 4px 10px rgba(56, 119, 255, 0.948);">
                    <!-- Bu div kullanıcı bilgilerini içeriyor -->
                    <div class="sidebar-user text-center" style="box-shadow: 0 4px 10px rgba(56, 119, 255, 0.948);">
                        <div><img class="img-60 rounded-circle" src="../assets/images/user/1.jpg" alt="#">
                        </div>
                        <h6 class="mt-3 f-14 text-dark">İsim Soyisim</h6>
                        <p class="text-dark">Kademe</p>
                    </div>
                    <!-- Buradan itibaren yan menü başlıkları ve menüler var. -->
                    <ul class="sidebar-menu bg-light">
                        <li><a class="sidebar-header text-dark" href="index.html"><i
                                    data-feather="home"></i><span>Anasayfa</span><span
                                    class="badge badge-pill badge-primary"></span></a>
                        </li>
                        <li>
                            <a class="sidebar-header text-dark" href="#"><i data-feather="briefcase"></i>
                                <span>Kurumsal</span>
                                <i class="fa fa-angle-right pull-right"></i>
                            </a>
                            <ul class="sidebar-submenu">
                                <li><a href="Kurumsal - Yönetim.html" class="text-dark"><i
                                            class="fa fa-circle text-dark"></i>Yönetim</a></li>
                                <li><a href="Kurumsal - Vizyon Misyon.html" class="text-dark"><i
                                            class="fa fa-circle text-dark"></i>Vizyon-Misyon-İlke</a></li>
                                <li><a href="Kurumsal - Raporlar.html" class="text-dark"><i
                                            class="fa fa-circle text-dark"></i>Raporlar</a></li>
                                <li><a href="Kurumsal - Komisyonlar.html" class="text-dark"><i
                                            class="fa fa-circle text-dark"></i>Komisyonlar</a></li>
                            </ul>
                        </li>
                        <li><a class="sidebar-header text-dark" href="Haberler.html"><i
                                    data-feather="file-text"></i><span>Haberler</span></a></li>
                        <li><a class="sidebar-header text-dark" href="#"><i
                                    data-feather="map-pin"></i><span>Gebze</span><i
                                    class="fa fa-angle-right pull-right"></i></a>
                            <ul class="sidebar-submenu">
                                <li><a href="Gebze - Tarihce.html" class="text-dark"><i
                                            class="fa fa-circle text-dark"></i>Tarihten
                                        Günümüze Gebze</a>
                                </li>
                                <li><a href="Gebze - Gebze Yonetim.html" class="text-dark"><i
                                            class="fa fa-circle text-dark"></i>Gebze
                                        Yönetim</a></li>
                                <li><a href="Gebze - Sanal Tur.html" class="text-dark"><i
                                            class="fa fa-circle text-dark"></i>360 Sanal
                                        Tur</a></li>
                            </ul>
                        </li>
                        <li><a class="sidebar-header text-dark" href="Hizmetler.html"><i
                                    data-feather="layers"></i><span>Hizmetler</span></a>
                        </li>
                        <li><a class="sidebar-header text-dark" href="Etkinlikler.html"><i
                                    data-feather="slack"></i><span>Etkinlikler</span></a>
                        </li>
                        <li><a class="sidebar-header text-dark" href="Yayınlarımız.html"><i
                                    data-feather="book"></i><span>Yayınlarımız</span></a>
                        </li>
                        <li><a class="sidebar-header text-dark" href="İletisim.html"><i
                                    data-feather="mail"></i><span>İletişim</span></a>
                        </li>
                        <li><a class="sidebar-header text-dark" href="kullanicilar.html"><i
                                    data-feather="users"></i><span>Kullanıcılar</span></a></li>
                </div>
            </div>
            <!-- Page Sidebar Ends-->

            <div class="page-body">
                <div class="container-fluid">
                    <div class="page-header">
                        <div class="row">
                            <div class="col">
                                <div class="page-header-left">
                                    <h3>Kullanıcı Ekle</h3>
                                    <ol class="breadcrumb" style="margin-top: 85px; margin-left: -205px;">
                                        <li class="breadcrumb-item"><a href="index.html"><i data-feather="home"></i></a>
                                        </li>
                                        <li class="breadcrumb-item active">Kullanıcı Ekle</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <br><br>

                <!-- İçeriklerin Yükleneceği Alan -->

                <div class="card-container">
                    <div class="profile-card">
                        <div class="profile-photo-section">
                            <input type="file" id="profilePhotoInput" accept="image/*" style="display: none;">
                            <div class="profile-photo-wrapper" id="profilePhotoWrapper">
                                <img src="../assets/images/user/user.png" alt="" id="profilePhoto">
                                <div class="edit-overlay" id="editOverlay">
                                    <i class="fas fa-camera"></i>
                                </div>
                            </div>
                        </div>
                        <div class="form-group-container">
                            <label for="fullName">Ad - Soyad</label>
                            <input type="text" id="fullName" placeholder="Adınızı ve Soyadınızı Girin">
                        </div>
                        <div class="form-group-container">
                            <label for="tckn">TC Kimlik Numarası</label>
                            <input type="text" id="tckn" maxlength="11" pattern="\d{11}"
                                placeholder="TC kimlik numaranızı girin" required
                                oninput="this.value = this.value.replace(/\D/g, '').slice(0,11)">
                        </div>
                        <div class="form-group-container">
                            <label for="email">E-Posta</label>
                            <div class="input-with-icon">
                                <input type="email" id="email" placeholder="ornek@mail.com">
                                <div class="icon-container">
                                    <i class="fas fa-check-circle verified-icon green-icon"
                                        style="margin-top: -10px;"></i>
                                    <div class="popup">
                                        <div class="popup-header-onaylandi">Onaylandı!</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group-container">
                            <label for="phone">Telefon Numarası</label>
                            <div class="input-with-icon">
                                <input type="tel" id="phone" placeholder="5xx xxx xx xx">
                                <div class="icon-container">
                                    <i class="fas fa-times-circle unverified-icon red-icon"
                                        style="margin-top: -10px;"></i>
                                    <div class="popup">
                                        <div class="popup-header">Onaylanmadı!</div>
                                    </div>
                                    <small id="phone-error" style="color: #dc3545; display: none;"></small>
                                </div>
                            </div>
                        </div>

                        <div class="form-group-container">
                            <label for="">Kullanıcı Durumu</label>
                            <select class="form-select" aria-label="Default select example" id="userStatusSelect">
                                <option selected>Kullanıcı Durumu</option>
                                <option value="1">Aktif</option>
                                <option value="2">Pasif</option>
                            </select>
                        </div>

                        <div class="form-group-container">
                            <label for="newPassword">Yeni Şifre</label>
                            <div class="input-with-icon">
                                <input type="password" id="newPassword" placeholder="Yeni şifrenizi girin">
                                <i class="fas fa-eye-slash password-toggle-icon" id="toggleNewPassword"></i>
                            </div>
                        </div>

                        <div class="form-group-container">
                            <label for="confirmNewPassword">Yeni Şifre Tekrar</label>
                            <div class="input-with-icon">
                                <input type="password" id="confirmNewPassword"
                                    placeholder="Yeni şifrenizi tekrar girin">
                                <i class="fas fa-eye-slash password-toggle-icon" id="toggleConfirmNewPassword"></i>
                            </div>
                        </div>
                        <div class="buton">
                            <button id="save-button" class="btn" onclick="kaydetKullanici()">Kaydet</button>
                            <button id="cancel-button" class="btn btn-success">Geri Dön</button>
                        </div>
                    </div>
                </div>


                <!-- latest jquery-->
                <script src="../assets/js/jquery-3.2.1.min.js"></script>
                <!-- Bootstrap js-->
                <script src="../assets/js/bootstrap/popper.min.js"></script>
                <script src="../assets/js/bootstrap/bootstrap.js"></script>
                <!-- feather icon js-->
                <script src="../assets/js/icons/feather-icon/feather.min.js"></script>
                <script src="../assets/js/icons/feather-icon/feather-icon.js"></script>
                <!-- Sidebar jquery-->
                <script src="../assets/js/sidebar-menu.js"></script>
                <script src="../assets/js/config.js"></script>
                <!-- Plugins JS start-->
                <script src="../assets/js/typeahead/typeahead.bundle.js"></script>
                <script src="../assets/js/typeahead/typeahead.custom.js"></script>
                <script src="../assets/js/typeahead-search/handlebars.js"></script>
                <script src="../assets/js/typeahead-search/typeahead-custom.js"></script>
                <!-- Plugins JS Ends-->
                <!-- Theme js-->
                <script src="../assets/js/script.js"></script>
                <!-- Bootstrap JS + Popper -->
                <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

                <!-- Proje Kodları -->

                <script>
                    function kaydetKullanici() {
                        const ad = document.getElementById("fullName").value;
                        const email = document.getElementById("email").value;
                        const tel = document.getElementById("phone").value;
                        const durum = document.getElementById("userStatusSelect").value; // 1: Aktif, 2: Pasif

                        const kullanici = {
                            ad,
                            email,
                            tel,
                            durum // 1 veya 2 olarak saklıyoruz
                        };

                        // Basit bir dizi şeklinde saklıyoruz
                        let kullanicilar = JSON.parse(localStorage.getItem("kullanicilar") || "[]");
                        kullanicilar.push(kullanici);
                        localStorage.setItem("kullanicilar", JSON.stringify(kullanicilar));

                        alert("Kullanıcı kaydedildi!");
                        // İsteğe bağlı yönlendirme
                        window.location.href = "kullanicilar.html";
                    }
                </script>

                <script>

                    document.addEventListener('DOMContentLoaded', () => {
                        // Profil Fotoğrafı Yükleme İşlevi
                        const profilePhotoWrapper = document.getElementById('profilePhotoWrapper');
                        const profilePhotoInput = document.getElementById('profilePhotoInput');
                        const profilePhoto = document.getElementById('profilePhoto');

                        profilePhotoWrapper.addEventListener('click', () => {
                            profilePhotoInput.click(); // Gizli dosya input'unu tetikle
                        });

                        profilePhotoInput.addEventListener('change', (event) => {
                            const file = event.target.files[0];
                            if (file) {
                                const reader = new FileReader();
                                reader.onload = (e) => {
                                    profilePhoto.src = e.target.result; // Seçilen resmi önizleme olarak göster
                                };
                                reader.readAsDataURL(file);
                            }
                        });

                        const phoneInput = document.getElementById('phone');
                        const phoneError = document.getElementById('phone-error');

                        phoneInput.addEventListener('input', (e) => {
                            let value = e.target.value.replace(/\D/g, ''); // Sadece rakamlar
                            let formattedValue = '';

                            // Maskeleme işlemi
                            if (value.length > 0) {
                                formattedValue += '(' + value.substring(0, 3);
                            }
                            if (value.length > 3) {
                                formattedValue += ') ' + value.substring(3, 6);
                            }
                            if (value.length > 6) {
                                formattedValue += ' ' + value.substring(6, 8);
                            }
                            if (value.length > 8) {
                                formattedValue += ' ' + value.substring(8, 10);
                            }
                            e.target.value = formattedValue;

                            // Hata kontrolü
                            if (value.length > 0 && value[0] !== '5') {
                                phoneInput.style.borderColor = '#dc3545'; // kırmızı kenarlık
                                phoneError.textContent = 'Telefon numarası 5 ile başlamalıdır.';
                                phoneError.style.display = 'block';
                            } else {
                                phoneInput.style.borderColor = ''; // kenarlığı sıfırla
                                phoneError.textContent = '';
                                phoneError.style.display = 'none';
                            }
                        });



                        // document.getElementById('save-button').addEventListener('click', kaydet);

                        // function kaydet() {


                        //     const fullName = document.getElementById("fullName").value;
                        //     const email = document.getElementById("email").value;
                        //     const phone = document.getElementById("phone").value;

                        //     const params = new URLSearchParams(window.location.search);
                        //     const index = params.get("index"); // varsa düzenleme modu

                        //     const kullanici = { fullName, email, phone };

                        //     let veriler = JSON.parse(localStorage.getItem("kullanicilar")) || [];

                        //     if (index !== null) {
                        //         // Düzenleme modunda: mevcut veriyi güncelle
                        //         veriler[index - 1] = kullanici;
                        //     } else {
                        //         // Yeni kayıt
                        //         veriler.push(kullanici);
                        //     }

                        //     localStorage.setItem("kullanicilar", JSON.stringify(veriler));
                        //     window.location.href = "kullanicilar.html"; // geri dön
                        //     if (islem === "ekle") {
                        //         // tabloya yeni satır ekle
                        //         tabloyaSatirEkle(fullName, email, phone);
                        //     } else if (islem === "guncelle" && index !== null) {
                        //         // belirtilen satırı güncelle
                        //         tabloSatirGuncelle(index, fullName, email, phone);
                        //     }

                        // }


                        document.getElementById('cancel-button').addEventListener('click', geriDon);
                        function geriDon() {
                            window.location.href = "kullanicilar.html";
                        }


                    });

                    function tabloyaSatirEkle(ad, soyad, email, telefon) {
                        const tablo = document.getElementById("kullaniciTablosu");
                        const yeniSatir = tablo.insertRow(-1);

                        yeniSatir.innerHTML = `
    <td></td>
    <td></td>
    <td>${ad} ${soyad}</td>
    <td>${email}</td>
    <td>${telefon}</td>
    <td>
      <button onclick="duzenle(this)">Düzenle</button>
    </td>
  `;
                    }

                    function tabloSatirGuncelle(index, ad, soyad, email, telefon) {
                        const tablo = document.getElementById("kullaniciTablosu");
                        const satir = tablo.rows[index];

                        satir.cells[2].textContent = `${ad} ${soyad}`;
                        satir.cells[3].textContent = email;
                        satir.cells[4].textContent = telefon;
                    }


                    // Şifre Göster/Gizle İşlevi
                    const togglePassword = (inputId, toggleIconId) => {
                        const passwordInput = document.getElementById(inputId);
                        const toggleIcon = document.getElementById(toggleIconId);

                        toggleIcon.addEventListener('click', () => {
                            if (passwordInput.type === 'password') {
                                passwordInput.type = 'text';
                                toggleIcon.classList.remove('fa-eye-slash');
                                toggleIcon.classList.add('fa-eye'); // Normal göz
                            } else {
                                passwordInput.type = 'password';
                                toggleIcon.classList.remove('fa-eye');
                                toggleIcon.classList.add('fa-eye-slash'); // Üstü çizili göz
                            }
                        });
                    };

                    togglePassword('newPassword', 'toggleNewPassword');
                    togglePassword('confirmNewPassword', 'toggleConfirmNewPassword');


                </script>

                <!-- sayfanın en altında -->
                <script>
                    window.onload = function () {
                        const params = new URLSearchParams(window.location.search);
                        const fullName = params.get("fullName");
                        const email = params.get("email");
                        const phone = params.get("phone");

                        if (fullName) document.getElementById("fullName").value = fullName;
                        if (email) document.getElementById("email").value = email;
                        if (phone) document.getElementById("phone").value = phone;
                    };
                </script>

                <!-- Head veya body sonuna -->
                <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</body>

</html>





</body>

</html>